<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>Ñ‚ÑƒĞ» Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ¸ÑĞºĞ° Ğ½Ğ¾Ğ¼ĞµÑ€Ğ¾Ğ² Ğ¸ ÑĞ»Ğ¾Ğ²</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
<style>
body { font-family: 'Courier New', monospace; background: linear-gradient(120deg, #111, #333); color: #fff; margin:0; padding:0; }
header { background:#111; text-align:center; padding:30px 0; border-bottom:3px solid #f55; }
#banner { font-size:20px; line-height:22px; color:#f55; white-space:pre; display:inline-block; text-align:center; }
header .subtitle { font-size:16px; color:#aaa; margin-top:10px; }
header .avatar { font-size:50px; margin-bottom:10px; }
.container { padding:20px; max-width:900px; margin:auto; }
input[type=text] { width:300px; padding:8px; margin:5px 0; border:2px solid #555; border-radius:5px; background:#222; color:#fff; }
input[type=file] { margin:10px 0; }
button { margin:5px; padding:10px 20px; background:#555; color:#fff; border:none; border-radius:5px; cursor:pointer; transition:0.2s; }
button:hover { background:#f55; color:#fff; }
#results { margin-top:20px; white-space:pre-wrap; background:#222; padding:10px; border-radius:5px; max-height:400px; overflow-y:auto; border:1px solid #f55; }
</style>
</head>
<body>

<header>
    <div class="avatar">ğŸ‘ï¸</div>
    <div id="banner"></div>
    <div class="subtitle">by vredon0s</div>
</header>

<div class="container">
    <input type="file" id="files" multiple accept=".txt,.csv,.zip"><br>
    <input type="text" id="searchInput" placeholder="Ğ²Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ Ğ½Ğ¾Ğ¼ĞµÑ€ Ğ¸Ğ»Ğ¸ ÑĞ»Ğ¾Ğ²Ğ¾"><br>
    <button onclick="searchSpecific()">Ğ¿Ğ¾Ğ¸ÑĞº Ğ¿Ğ¾ Ğ½Ğ¾Ğ¼ĞµÑ€Ñƒ</button>
    <button onclick="searchAllPhones()">Ğ¿Ğ¾Ğ¸ÑĞº Ğ²ÑĞµÑ… Ğ½Ğ¾Ğ¼ĞµÑ€Ğ¾Ğ²</button>
    <button onclick="searchWords()">Ğ¿Ğ¾Ğ¸ÑĞº Ğ¿Ğ¾ ÑĞ»Ğ¾Ğ²Ğ°Ğ¼</button>
    <div id="results"></div>
</div>

<script>
let loadedFiles = [];
const bannerText = `
â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—
â•šâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•â•â•
 â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•”â• â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—
  â•šâ–ˆâ–ˆâ•”â•  â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â• â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â•šâ•â•â•â•â–ˆâ–ˆâ•‘
   â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘
   â•šâ•â•   â•šâ•â•  â•šâ•â•â•šâ•â•     â•šâ•â•â•šâ•â•  â•šâ•â• â•šâ•â•â•â•â•â• â•šâ•â•  â•šâ•â•â•šâ•â•  â•šâ•â•â•šâ•â•â•â•â•â•â•
`;

function typeBanner(text, elementId, delay=20){
    const el = document.getElementById(elementId);
    let i = 0;
    el.innerText = "";
    function type(){ if(i<text.length){ el.innerText+=text[i]; i++; setTimeout(type,delay); } }
    type();
}
typeBanner(bannerText,"banner");

// Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ¸ Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ² Ğ¸ zip
document.getElementById('files').addEventListener('change', async (e)=>{
    loadedFiles=[];
    for(let file of e.target.files){
        if(file.name.endsWith(".zip")){
            const data = await file.arrayBuffer();
            const zip = await JSZip.loadAsync(data);
            for(const fname in zip.files){
                if(fname.endsWith(".txt")||fname.endsWith(".csv")){
                    const content = await zip.files[fname].async("string");
                    loadedFiles.push({name:fname,content:content});
                }
            }
        } else if(file.name.endsWith(".txt")||file.name.endsWith(".csv")){
            const reader=new FileReader();
            reader.onload=(event)=>{ loadedFiles.push({name:file.name,content:event.target.result}); };
            reader.readAsText(file,"utf-8");
        }
    }
});

const PHONE_REGEX = /(\+7|8)[\s\-]?\(?\d{3}\)?[\s\-]?\d{3}[\s\-]?\d{2}[\s\-]?\d{2}/g;

function searchSpecific(){
    const query = document.getElementById('searchInput').value.replace(/\D/g,'');
    const results=[];
    for(let f of loadedFiles){
        let foundLines=[];
        for(let i=0;i<2;i++){
            let lines=f.content.split(/\r?\n/);
            for(let line of lines){ if(line.replace(/\D/g,'').includes(query)) foundLines.push(line);}
            if(i==0) foundLines.unshift("Ğ¿ĞµÑ€Ğ²Ğ°Ñ Ğ±Ğ°Ğ·Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ¿Ñ€Ğ¾Ñ‡Ğ¸Ñ‰ĞµĞ½Ğ°");
        }
        if(foundLines.length>1) results.push(f.name+":\n"+foundLines.join("\n"));
    }
    document.getElementById('results').innerText=results.join("\n\n")||"Ğ½Ğ¸Ñ‡ĞµĞ³Ğ¾ Ğ½Ğµ Ğ½Ğ°Ğ¹Ğ´ĞµĞ½Ğ¾";
}

function searchAllPhones(){
    const allPhones = new Set();
    const results=[];
    for(let f of loadedFiles){
        let foundLines=[];
        for(let i=0;i<2;i++){
            let lines=f.content.split(/\r?\n/);
            for(let line of lines){
                let matches=line.match(PHONE_REGEX);
                if(matches){ matches.forEach(m=>allPhones.add(m)); foundLines.push(line);}
            }
            if(i==0) foundLines.unshift("Ğ¿ĞµÑ€Ğ²Ğ°Ñ Ğ±Ğ°Ğ·Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ¿Ñ€Ğ¾Ñ‡Ğ¸Ñ‰ĞµĞ½Ğ°");
        }
        if(foundLines.length>1) results.push(f.name+":\n"+foundLines.join("\n"));
    }
    if(allPhones.size>0) results.push("Ğ²ÑĞµ ÑƒĞ½Ğ¸ĞºĞ°Ğ»ÑŒĞ½Ñ‹Ğµ Ğ½Ğ¾Ğ¼ĞµÑ€Ğ°: "+Array.from(allPhones).join(", "));
    document.getElementById('results').innerText=results.join("\n\n")||"Ğ½Ğ¸Ñ‡ĞµĞ³Ğ¾ Ğ½Ğµ Ğ½Ğ°Ğ¹Ğ´ĞµĞ½Ğ¾";
}

function searchWords(){
    const query = document.getElementById('searchInput').value.toLowerCase();
    const results=[];
    for(let f of loadedFiles){
        let foundLines=[];
        for(let i=0;i<2;i++){
            let lines=f.content.split(/\r?\n/);
            for(let line of lines){ if(line.toLowerCase().includes(query)) foundLines.push(line);}
            if(i==0) foundLines.unshift("Ğ¿ĞµÑ€Ğ²Ğ°Ñ Ğ±Ğ°Ğ·Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ¿Ñ€Ğ¾Ñ‡Ğ¸Ñ‰ĞµĞ½Ğ°");
        }
        if(foundLines.length>1) results.push(f.name+":\n"+foundLines.join("\n"));
    }
    document.getElementById('results').innerText=results.join("\n\n")||"Ğ½Ğ¸Ñ‡ĞµĞ³Ğ¾ Ğ½Ğµ Ğ½Ğ°Ğ¹Ğ´ĞµĞ½Ğ¾";
}
</script>

</body>
</html>
